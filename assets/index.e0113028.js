var j=Object.defineProperty;var I=(o,e,t)=>e in o?j(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var r=(o,e,t)=>(I(o,typeof e!="symbol"?e+"":e,t),t);import{c as H,R as A,a as W,j as R,L as M,_ as B,b as w,p as O,t as z,f as q,r as N,m as F,u as k,d as X}from"./vendor.b648df8f.js";const Y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}};Y();const G=H(),K=({history:o,children:e})=>{const[t,i]=A.useState({action:o.action,location:o.location});return A.useLayoutEffect(()=>{o.listen(i)},[o]),A.createElement(W,Object.assign({children:e,navigator:o},t))};const Q="_Home_1ijc8_1",Z="_list_1ijc8_6",J="_card_1ijc8_11",ee="_footer_1ijc8_14";var E={home:Q,list:Z,card:J,footer:ee};const a=R.exports.jsx,U=R.exports.jsxs,te=R.exports.Fragment,x=[];for(let o=0;o<5;o++)x.push({title:`part ${o+1}`,description:"Ant Design, a design language for background applications, is refined by Ant UED Team."});x[0].description="\u57FA\u7840\u521B\u5EFA\u6D41\u7A0B\u548C\u57FA\u7840\u56FE\u5F62\u4E09\u89D2\u5F62\u57FA\u7840";x[1].description="\u7BA1\u9053\u548CMSAA";x[2].description="\u6700\u5BB9\u6613\u7406\u89E3\u7684\u57FA\u7840\u4E09\u89D2\u5F62";x[3].description="\u65CB\u8F6C\u7684\u7ACB\u65B9\u4F53";x[4].description="\u4E24\u4E2A\u65CB\u8F6C\u7684\u7ACB\u65B9\u4F53";const re=()=>{const o=e=>{G.push("/part"+e)};return a("div",{className:E.home,children:a(M,{className:E.list,itemLayout:"vertical",size:"large",dataSource:x,footer:U("div",{className:E.footer,children:[a("a",{href:"https://blog.indeex.club",children:a("b",{children:"indeex"})})," \xA9copyright 2022"]}),renderItem:(e,t)=>U(M.Item,{extra:a("img",{width:172,alt:"logo",src:"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png"}),onClick:i=>o(t+1),className:E.card,children:[a(M.Item.Meta,{title:a("a",{href:e.href,children:e.title}),description:e.description}),e.content]},e.title)})})},ie=()=>a("div",{children:a("button",{children:"\u5173\u4E8E\u8DF3\u8F6C"})}),oe=()=>a("div",{children:"not found 404 page"}),ne="_part_pfhqm_1",se="_card_pfhqm_1",ae="_footer_pfhqm_4";var ce={part:ne,card:se,footer:ae},de=`struct VSOut {
    [[builtin(position)]] Position: vec4<f32>;
    [[location(0)]] color: vec3<f32>;
};

[[stage(vertex)]]
fn main([[location(0)]] inPos: vec3<f32>,
        [[location(1)]] inColor: vec3<f32>) -> VSOut {
    var vsOut: VSOut;
    vsOut.Position = vec4<f32>(inPos, 1.0);
    vsOut.color = inColor;
    return vsOut;
}`,ue=`[[stage(fragment)]]
fn main([[location(0)]] inColor: vec3<f32>) -> [[location(0)]] vec4<f32> {
    return vec4<f32>(inColor, 1.0);
}`;const he=new Float32Array([1,-1,0,-1,-1,0,0,1,0]),fe=new Float32Array([1,0,0,0,1,0,0,0,1]),pe=new Uint16Array([0,1,2]);class le{constructor(e){r(this,"canvas");r(this,"adapter");r(this,"device");r(this,"queue");r(this,"context");r(this,"colorTexture");r(this,"colorTextureView");r(this,"depthTexture");r(this,"depthTextureView");r(this,"positionBuffer");r(this,"colorBuffer");r(this,"indexBuffer");r(this,"vertModule");r(this,"fragModule");r(this,"pipeline");r(this,"commandEncoder");r(this,"passEncoder");r(this,"render",()=>{var e,t;this.colorTexture=(e=this.context)==null?void 0:e.getCurrentTexture(),this.colorTextureView=(t=this.colorTexture)==null?void 0:t.createView(),this.encodeCommands(),requestAnimationFrame(this.render)});this.canvas=e}async start(){await this.initializeAPI()&&(this.resizeBackings(),await this.initializeResources(),this.render())}async initializeAPI(){var e;try{const t=navigator.gpu;if(!t)return console.log("not support!"),!1;this.adapter=await t.requestAdapter(),this.device=await this.adapter.requestDevice(),this.queue=(e=this.device)==null?void 0:e.queue}catch(t){return console.error(t),!1}return!0}async initializeResources(){var y,P,b,$;const e=(_,V)=>{let T={size:_.byteLength+3&-4,usage:V,mappedAtCreation:!0},v=this.device.createBuffer(T);return(_ instanceof Uint16Array?new Uint16Array(v.getMappedRange()):new Float32Array(v.getMappedRange())).set(_),v.unmap(),v};this.positionBuffer=e(he,GPUBufferUsage.VERTEX),this.colorBuffer=e(fe,GPUBufferUsage.VERTEX),this.indexBuffer=e(pe,GPUBufferUsage.INDEX);const t={code:de};this.vertModule=(y=this.device)==null?void 0:y.createShaderModule(t);const i={code:ue};this.fragModule=(P=this.device)==null?void 0:P.createShaderModule(i);const n={shaderLocation:0,offset:0,format:"float32x3"},s={shaderLocation:1,offset:0,format:"float32x3"},c={attributes:[n],arrayStride:4*3,stepMode:"vertex"},d={attributes:[s],arrayStride:4*3,stepMode:"vertex"},u={depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus-stencil8"},m={bindGroupLayouts:[]},h=(b=this.device)==null?void 0:b.createPipelineLayout(m),f={module:this.vertModule,entryPoint:"main",buffers:[c,d]},p={format:"bgra8unorm"},l={module:this.fragModule,entryPoint:"main",targets:[p]},C={layout:h,vertex:f,fragment:l,primitive:{frontFace:"cw",cullMode:"none",topology:"triangle-list"},depthStencil:u};this.pipeline=($=this.device)==null?void 0:$.createRenderPipeline(C)}resizeBackings(){var t,i,n;if(!this.context){this.context=this.canvas.getContext("webgpu");const s={device:this.device,format:"bgra8unorm",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC};(t=this.context)==null||t.configure(s)}const e={size:[this.canvas.width,this.canvas.height,1],dimension:"2d",format:"depth24plus-stencil8",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC};this.depthTexture=(i=this.device)==null?void 0:i.createTexture(e),this.depthTextureView=(n=this.depthTexture)==null?void 0:n.createView()}encodeCommands(){var n,s,c,d,u,m,h,f,p,l,g;let e={view:this.colorTextureView,loadValue:{r:0,g:0,b:0,a:1},storeOp:"store"};const t={view:this.depthTextureView,depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:"load",stencilStoreOp:"store"},i={colorAttachments:[e],depthStencilAttachment:t};this.commandEncoder=(n=this.device)==null?void 0:n.createCommandEncoder(),this.passEncoder=(s=this.commandEncoder)==null?void 0:s.beginRenderPass(i),(c=this.passEncoder)==null||c.setPipeline(this.pipeline),(d=this.passEncoder)==null||d.setViewport(0,0,this.canvas.width,this.canvas.height,0,1),(u=this.passEncoder)==null||u.setScissorRect(0,0,this.canvas.width,this.canvas.height),(m=this.passEncoder)==null||m.setVertexBuffer(0,this.positionBuffer),(h=this.passEncoder)==null||h.setVertexBuffer(1,this.colorBuffer),(f=this.passEncoder)==null||f.setIndexBuffer(this.indexBuffer,"uint16"),(p=this.passEncoder)==null||p.drawIndexed(3,1),(l=this.passEncoder)==null||l.endPass(),(g=this.queue)==null||g.submit([this.commandEncoder.finish()])}}const me=()=>(B.exports.useEffect(()=>{const o=document.getElementById("gfx");o.width=document.body.clientWidth,o.height=document.body.clientHeight,new le(o).start()}),a("div",{className:ce.part,children:a("canvas",{id:"gfx"})})),ve="_part_pfhqm_1",ge="_card_pfhqm_1",_e="_footer_pfhqm_4";var xe={part:ve,card:ge,footer:_e},we=`@stage(vertex)
fn main(@builtin(vertex_index) VertexIndex : u32)
     -> @builtin(position) vec4<f32> {
  var pos = array<vec2<f32>, 3>(
      vec2<f32>(0.0, 0.5),
      vec2<f32>(-0.5, -0.5),
      vec2<f32>(0.5, -0.5));

  return vec4<f32>(pos[VertexIndex], 0.0, 1.0);
}`,ye=`@stage(fragment)
fn main() -> @location(0) vec4<f32> {
  return vec4<f32>(0.0, 1.0, 0.0, 1.0);
}`;const Pe=new Float32Array([1,-1,0,-1,-1,0,0,1,0]),be=new Float32Array([1,0,0,0,1,0,0,0,1]),$e=new Uint16Array([0,1,2]);class Be{constructor(e){r(this,"canvas");r(this,"adapter");r(this,"device");r(this,"queue");r(this,"context");r(this,"colorTexture");r(this,"colorTextureView");r(this,"depthTexture");r(this,"depthTextureView");r(this,"positionBuffer");r(this,"colorBuffer");r(this,"indexBuffer");r(this,"vertModule");r(this,"fragModule");r(this,"pipeline");r(this,"commandEncoder");r(this,"passEncoder");r(this,"tempCW",0);r(this,"tempCH",0);r(this,"render",()=>{var e,t;this.depthTexture&&this.tempCW!=this.canvas.width&&this.tempCH!=this.canvas.height&&(this.depthTexture.destroy(),this.start()),this.colorTexture=(e=this.context)==null?void 0:e.getCurrentTexture(),this.colorTextureView=(t=this.colorTexture)==null?void 0:t.createView(),this.encodeCommands(),requestAnimationFrame(this.render)});this.canvas=e,this.tempCW=this.canvas.width,this.tempCH=this.canvas.height}async start(){await this.initializeAPI()&&(this.resizeBackings(),await this.initializeResources(),this.render())}async initializeAPI(){var e;try{const t=navigator.gpu;if(!t)return console.log("not support!"),!1;this.adapter=await t.requestAdapter(),this.device=await this.adapter.requestDevice(),this.queue=(e=this.device)==null?void 0:e.queue}catch(t){return console.error(t),!1}return!0}async initializeResources(){var y,P,b,$;const e=(_,V)=>{let T={size:_.byteLength+3&-4,usage:V,mappedAtCreation:!0},v=this.device.createBuffer(T);return(_ instanceof Uint16Array?new Uint16Array(v.getMappedRange()):new Float32Array(v.getMappedRange())).set(_),v.unmap(),v};this.positionBuffer=e(Pe,GPUBufferUsage.VERTEX),this.colorBuffer=e(be,GPUBufferUsage.VERTEX),this.indexBuffer=e($e,GPUBufferUsage.INDEX);const t={code:we};this.vertModule=(y=this.device)==null?void 0:y.createShaderModule(t);const i={code:ye};this.fragModule=(P=this.device)==null?void 0:P.createShaderModule(i);const n={shaderLocation:0,offset:0,format:"float32x3"},s={shaderLocation:1,offset:0,format:"float32x3"},c={attributes:[n],arrayStride:4*3,stepMode:"vertex"},d={attributes:[s],arrayStride:4*3,stepMode:"vertex"},u={depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus-stencil8"},m={bindGroupLayouts:[]},h=(b=this.device)==null?void 0:b.createPipelineLayout(m),f={module:this.vertModule,entryPoint:"main",buffers:[c,d]},p={format:"bgra8unorm"},l={module:this.fragModule,entryPoint:"main",targets:[p]},C={layout:h,vertex:f,fragment:l,primitive:{frontFace:"cw",cullMode:"none",topology:"triangle-list"},depthStencil:u};this.pipeline=($=this.device)==null?void 0:$.createRenderPipeline(C)}resizeBackings(){var t,i,n;if(!this.context){this.context=this.canvas.getContext("webgpu");const s={device:this.device,format:"bgra8unorm",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC};(t=this.context)==null||t.configure(s)}const e={size:[this.canvas.width,this.canvas.height,1],dimension:"2d",format:"depth24plus-stencil8",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC};this.depthTexture=(i=this.device)==null?void 0:i.createTexture(e),this.depthTextureView=(n=this.depthTexture)==null?void 0:n.createView()}encodeCommands(){var n,s,c,d,u,m,h,f,p,l,g;let e={view:this.colorTextureView,loadValue:{r:0,g:0,b:0,a:1},storeOp:"store"};const t={view:this.depthTextureView,depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:"load",stencilStoreOp:"store"},i={colorAttachments:[e],depthStencilAttachment:t};this.commandEncoder=(n=this.device)==null?void 0:n.createCommandEncoder(),this.passEncoder=(s=this.commandEncoder)==null?void 0:s.beginRenderPass(i),(c=this.passEncoder)==null||c.setPipeline(this.pipeline),(d=this.passEncoder)==null||d.setViewport(0,0,this.canvas.width,this.canvas.height,0,1),(u=this.passEncoder)==null||u.setScissorRect(0,0,this.canvas.width,this.canvas.height),(m=this.passEncoder)==null||m.setVertexBuffer(0,this.positionBuffer),(h=this.passEncoder)==null||h.setVertexBuffer(1,this.colorBuffer),(f=this.passEncoder)==null||f.setIndexBuffer(this.indexBuffer,"uint16"),(p=this.passEncoder)==null||p.drawIndexed(3,1),(l=this.passEncoder)==null||l.endPass(),(g=this.queue)==null||g.submit([this.commandEncoder.finish()])}}const Ee=()=>(B.exports.useEffect(()=>{const o=document.getElementById("gfx");o.width=document.body.clientWidth,o.height=document.body.clientHeight,new Be(o).start(),window.onresize=function(){o.width=document.body.clientWidth,o.height=document.body.clientHeight}}),a("div",{className:xe.part,children:a("canvas",{id:"gfx"})})),Ae="_part_pfhqm_1",qe="_card_pfhqm_1",Ce="_footer_pfhqm_4";var Ve={part:Ae,card:qe,footer:Ce},Te=`@stage(vertex)
fn main(@builtin(vertex_index) VertexIndex : u32) -> @builtin(position) vec4<f32> {
    var pos = array<vec2<f32>, 3>(
	    vec2<f32>(0.0, 0.5),
	    vec2<f32>(-0.5, -0.5),
	    vec2<f32>(0.5, -0.5)
    );
    return vec4<f32>(pos[VertexIndex], 0.0, 1.0);
}`,Me=`@stage(fragment)
fn main() -> @location(0) vec4<f32> {
    return vec4<f32>(1.0, 0.0, 0.0, 1.0);
}`;class Re{constructor(e){r(this,"adapter");r(this,"device");r(this,"context");r(this,"format");r(this,"pipeline");r(this,"devicePixelRatio",window.devicePixelRatio|1);r(this,"size",[0,0]);this.canvas=e,this.canvas=e;let t=e.clientWidth*this.devicePixelRatio,i=e.clientHeight*this.devicePixelRatio;this.size=[t,i]}async start(){await this.init()}async init(){var e,t;if(!this.canvas)throw new Error("\u6CA1\u6709Canvas Element");if(!navigator.gpu)throw new Error("\u4E0D\u652F\u6301GPU");if(this.adapter=await navigator.gpu.requestAdapter({powerPreference:"high-performance"})||void 0,!this.adapter)throw new Error("\u83B7\u53D6\u8BBE\u5907\u5931\u8D25");if(this.device=await this.adapter.requestDevice(),!this.device)throw new Error("\u8BBE\u5907\u672A\u627E\u5230");this.context=this.canvas.getContext("webgpu")||void 0,this.format=(e=this.context)==null?void 0:e.getPreferredFormat(this.adapter),(t=this.context)==null||t.configure({device:this.device,format:this.format,size:this.size}),await this.run()}async run(){await this.initPipeline(),this.draw()}async initPipeline(){const e={vertex:{module:this.device.createShaderModule({code:Te}),entryPoint:"main"},fragment:{module:this.device.createShaderModule({code:Me}),entryPoint:"main",targets:[{format:this.format}]},primitive:{topology:"triangle-list"}};this.pipeline=await this.device.createRenderPipelineAsync(e)}async draw(){var c,d;const e=(c=this.device)==null?void 0:c.createCommandEncoder(),i={colorAttachments:[{view:this.context.getCurrentTexture().createView(),clearValue:{r:0,g:0,b:0,a:1},loadOp:"clear",storeOp:"store",loadValue:{r:0,g:0,b:0,a:1}}]},n=e.beginRenderPass(i);n==null||n.setPipeline(this.pipeline),n==null||n.draw(3,1,0,0),n.end();const s=e.finish();(d=this.device)==null||d.queue.submit([s])}}const Ue=()=>(B.exports.useEffect(()=>{const o=document.getElementById("gfx");o.width=document.body.clientWidth,o.height=document.body.clientHeight,new Re(o).start(),window.onresize=function(){o.width=document.body.clientWidth,o.height=document.body.clientHeight}}),a("div",{className:Ve.part,children:a("canvas",{id:"gfx"})})),De="_part_pfhqm_1",Se="_card_pfhqm_1",Oe="_footer_pfhqm_4";var ze={part:De,card:Se,footer:Oe},Ne=`struct Uniforms {
  modelViewProjectionMatrix : mat4x4<f32>;
};
@binding(0) @group(0) var<uniform> uniforms : Uniforms;

struct VertexOutput {
  @builtin(position) Position : vec4<f32>;
  @location(0) fragUV : vec2<f32>;
  @location(1) fragPosition: vec4<f32>;
};

@stage(vertex)
fn main(@location(0) position : vec4<f32>,
        @location(1) uv : vec2<f32>) -> VertexOutput {
  var output : VertexOutput;
  output.Position = uniforms.modelViewProjectionMatrix * position;
  output.fragUV = uv;
  output.fragPosition = 0.5 * (position + vec4<f32>(1.0, 1.0, 1.0, 1.0));
  return output;
}`,Fe=`@stage(fragment)
fn main(@location(0) fragUV: vec2<f32>,
        @location(1) fragPosition: vec4<f32>) -> @location(0) vec4<f32> {
  return fragPosition;
}`;const Ge=4*10,Le=0,je=4*8,Ie=36,D=new Float32Array([1,-1,1,1,1,0,1,1,1,1,-1,-1,1,1,0,0,1,1,0,1,-1,-1,-1,1,0,0,0,1,0,0,1,-1,-1,1,1,0,0,1,1,0,1,-1,1,1,1,0,1,1,1,1,-1,-1,-1,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,0,1,1,-1,-1,1,1,0,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,0,0,-1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,-1,1,1,1,0,1,0,0,-1,1,-1,1,0,1,0,1,1,0,-1,1,1,1,0,1,1,1,1,1,1,1,-1,1,1,1,0,1,0,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,1,-1,1,0,1,0,1,0,0,-1,-1,-1,1,0,0,0,1,1,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,-1,1,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,-1,1,1,0,0,1,1,0,0,-1,-1,1,1,0,0,1,1,0,0,1,-1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,1,1,-1,-1,-1,1,0,0,0,1,0,1,-1,1,-1,1,0,1,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,-1,-1,1,1,0,0,1,1,1,-1,1,-1,1,0,1,0,1,0,0]);class He{constructor(e){r(this,"adapter");r(this,"device");r(this,"context");r(this,"format");r(this,"devicePixelRatio",window.devicePixelRatio|1);r(this,"size",[0,0]);r(this,"uniformBuffer");r(this,"renderPassDescriptor");r(this,"pipeline");r(this,"uniformBindGroup");r(this,"verticesBuffer");r(this,"projectionMatrix");r(this,"render",()=>{var n,s,c,d;const e=this.getTransformationMatrix();(n=this.device)==null||n.queue.writeBuffer(this.uniformBuffer,0,e.buffer,e.byteOffset,e.byteLength),this.renderPassDescriptor.colorAttachments[0].view=(s=this.context)==null?void 0:s.getCurrentTexture().createView();const t=(c=this.device)==null?void 0:c.createCommandEncoder(),i=t==null?void 0:t.beginRenderPass(this.renderPassDescriptor);i==null||i.setPipeline(this.pipeline),i==null||i.setBindGroup(0,this.uniformBindGroup),i==null||i.setVertexBuffer(0,this.verticesBuffer),i==null||i.draw(Ie,1,0,0),i==null||i.end(),(d=this.device)==null||d.queue.submit([t.finish()]),requestAnimationFrame(this.render)});this.canvas=e,this.canvas=e;let t=e.clientWidth*this.devicePixelRatio,i=e.clientHeight*this.devicePixelRatio;this.size=[t,i]}async start(){var e,t;if(!this.canvas)throw new Error("\u6CA1\u6709Canvas Element");if(!navigator.gpu)throw new Error("\u4E0D\u652F\u6301GPU");if(this.adapter=await navigator.gpu.requestAdapter({powerPreference:"high-performance"})||void 0,!this.adapter)throw new Error("\u83B7\u53D6\u8BBE\u5907\u5931\u8D25");if(this.device=await this.adapter.requestDevice(),!this.device)throw new Error("\u8BBE\u5907\u672A\u627E\u5230");this.context=this.canvas.getContext("webgpu"),this.format=(e=this.context)==null?void 0:e.getPreferredFormat(this.adapter),(t=this.context)==null||t.configure({device:this.device,format:this.format,size:this.size}),await this.init()}async init(){var h,f,p,l;const e=(h=this.device)==null?void 0:h.createBuffer({size:D.byteLength,usage:GPUBufferUsage.VERTEX,mappedAtCreation:!0});new Float32Array(e.getMappedRange()).set(D),e==null||e.unmap(),this.verticesBuffer=e;const t=(f=this.device)==null?void 0:f.createRenderPipeline({vertex:{module:this.device.createShaderModule({code:Ne}),entryPoint:"main",buffers:[{arrayStride:Ge,attributes:[{shaderLocation:0,offset:Le,format:"float32x4"},{shaderLocation:1,offset:je,format:"float32x2"}]}]},fragment:{module:this.device.createShaderModule({code:Fe}),entryPoint:"main",targets:[{format:this.format}]},primitive:{topology:"triangle-list",cullMode:"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}});this.pipeline=t;const i=(p=this.device)==null?void 0:p.createTexture({size:this.size,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),n=4*16,s=this.device.createBuffer({size:n,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});this.uniformBuffer=s;const c=(l=this.device)==null?void 0:l.createBindGroup({layout:t.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:s}}]});this.uniformBindGroup=c;const d={colorAttachments:[{view:void 0,clearValue:{r:.5,g:.5,b:.5,a:1},loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:i.createView(),depthClearValue:1,depthStoreOp:"store",depthLoadOp:"clear"}};this.renderPassDescriptor=d;const u=w();this.projectionMatrix=u;const m=this.canvas.clientWidth/this.canvas.clientHeight;O(u,2*Math.PI/5,m,1,100),this.render()}getTransformationMatrix(){const e=w();z(e,e,q(0,0,-4));const t=Date.now()/1e3;N(e,e,1,q(Math.sin(t),Math.cos(t),0));const i=w();return F(i,this.projectionMatrix,e),i}}const We=()=>(B.exports.useEffect(()=>{const o=document.getElementById("gfx");o.width=document.body.clientWidth,o.height=document.body.clientHeight,new He(o).start(),window.onresize=function(){o.width=document.body.clientWidth,o.height=document.body.clientHeight}}),a("div",{className:ze.part,children:a("canvas",{id:"gfx"})})),ke="_part_pfhqm_1",Xe="_card_pfhqm_1",Ye="_footer_pfhqm_4";var Ke={part:ke,card:Xe,footer:Ye},Qe=`struct Uniforms {
  modelViewProjectionMatrix : mat4x4<f32>;
};
@binding(0) @group(0) var<uniform> uniforms : Uniforms;

struct VertexOutput {
  @builtin(position) Position : vec4<f32>;
  @location(0) fragUV : vec2<f32>;
  @location(1) fragPosition: vec4<f32>;
};

@stage(vertex)
fn main(@location(0) position : vec4<f32>,
        @location(1) uv : vec2<f32>) -> VertexOutput {
  var output : VertexOutput;
  output.Position = uniforms.modelViewProjectionMatrix * position;
  output.fragUV = uv;
  output.fragPosition = 0.5 * (position + vec4<f32>(1.0, 1.0, 1.0, 1.0));
  return output;
}`,Ze=`@stage(fragment)
fn main(@location(0) fragUV: vec2<f32>,
        @location(1) fragPosition: vec4<f32>) -> @location(0) vec4<f32> {
  return fragPosition;
}`;const Je=4*10,et=0,tt=4*8,rt=36,S=new Float32Array([1,-1,1,1,1,0,1,1,1,1,-1,-1,1,1,0,0,1,1,0,1,-1,-1,-1,1,0,0,0,1,0,0,1,-1,-1,1,1,0,0,1,1,0,1,-1,1,1,1,0,1,1,1,1,-1,-1,-1,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,0,1,1,-1,-1,1,1,0,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,0,0,-1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,-1,1,1,1,0,1,0,0,-1,1,-1,1,0,1,0,1,1,0,-1,1,1,1,0,1,1,1,1,1,1,1,-1,1,1,1,0,1,0,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,1,-1,1,0,1,0,1,0,0,-1,-1,-1,1,0,0,0,1,1,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,-1,1,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,-1,1,1,0,0,1,1,0,0,-1,-1,1,1,0,0,1,1,0,0,1,-1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,1,1,-1,-1,-1,1,0,0,0,1,0,1,-1,1,-1,1,0,1,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,-1,-1,1,1,0,0,1,1,1,-1,1,-1,1,0,1,0,1,0,0]);class it{constructor(e){r(this,"adapter");r(this,"device");r(this,"context");r(this,"format");r(this,"devicePixelRatio",window.devicePixelRatio|1);r(this,"size",[0,0]);r(this,"uniformBuffer");r(this,"renderPassDescriptor");r(this,"pipeline");r(this,"uniformBindGroup");r(this,"verticesBuffer");r(this,"projectionMatrix");r(this,"render",()=>{var n,s,c,d;const e=this.getTransformationMatrix();(n=this.device)==null||n.queue.writeBuffer(this.uniformBuffer,0,e.buffer,e.byteOffset,e.byteLength),this.renderPassDescriptor.colorAttachments[0].view=(s=this.context)==null?void 0:s.getCurrentTexture().createView();const t=(c=this.device)==null?void 0:c.createCommandEncoder(),i=t==null?void 0:t.beginRenderPass(this.renderPassDescriptor);i==null||i.setPipeline(this.pipeline),i==null||i.setBindGroup(0,this.uniformBindGroup),i==null||i.setVertexBuffer(0,this.verticesBuffer),i==null||i.draw(rt,1,0,0),i==null||i.end(),(d=this.device)==null||d.queue.submit([t.finish()]),requestAnimationFrame(this.render)});this.canvas=e,this.canvas=e;let t=e.clientWidth*this.devicePixelRatio,i=e.clientHeight*this.devicePixelRatio;this.size=[t,i]}async start(){var e,t;if(!this.canvas)throw new Error("\u6CA1\u6709Canvas Element");if(!navigator.gpu)throw new Error("\u4E0D\u652F\u6301GPU");if(this.adapter=await navigator.gpu.requestAdapter({powerPreference:"high-performance"})||void 0,!this.adapter)throw new Error("\u83B7\u53D6\u8BBE\u5907\u5931\u8D25");if(this.device=await this.adapter.requestDevice(),!this.device)throw new Error("\u8BBE\u5907\u672A\u627E\u5230");this.context=this.canvas.getContext("webgpu"),this.format=(e=this.context)==null?void 0:e.getPreferredFormat(this.adapter),(t=this.context)==null||t.configure({device:this.device,format:this.format,size:this.size}),await this.init()}async init(){var h,f,p,l;const e=(h=this.device)==null?void 0:h.createBuffer({size:S.byteLength,usage:GPUBufferUsage.VERTEX,mappedAtCreation:!0});new Float32Array(e.getMappedRange()).set(S),e==null||e.unmap(),this.verticesBuffer=e;const t=(f=this.device)==null?void 0:f.createRenderPipeline({vertex:{module:this.device.createShaderModule({code:Qe}),entryPoint:"main",buffers:[{arrayStride:Je,attributes:[{shaderLocation:0,offset:et,format:"float32x4"},{shaderLocation:1,offset:tt,format:"float32x2"}]}]},fragment:{module:this.device.createShaderModule({code:Ze}),entryPoint:"main",targets:[{format:this.format}]},primitive:{topology:"triangle-list",cullMode:"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}});this.pipeline=t;const i=(p=this.device)==null?void 0:p.createTexture({size:this.size,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),n=4*16,s=this.device.createBuffer({size:n,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});this.uniformBuffer=s;const c=(l=this.device)==null?void 0:l.createBindGroup({layout:t.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:s}}]});this.uniformBindGroup=c;const d={colorAttachments:[{view:void 0,clearValue:{r:.5,g:.5,b:.5,a:1},loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:i.createView(),depthClearValue:1,depthStoreOp:"store",depthLoadOp:"clear"}};this.renderPassDescriptor=d;const u=w();this.projectionMatrix=u;const m=this.canvas.clientWidth/this.canvas.clientHeight;O(u,2*Math.PI/5,m,1,100),this.render()}getTransformationMatrix(){const e=w();z(e,e,q(0,0,-4));const t=Date.now()/1e3;N(e,e,1,q(Math.sin(t),Math.cos(t),0));const i=w();return F(i,this.projectionMatrix,e),i}}const ot=()=>(B.exports.useEffect(()=>{const o=document.getElementById("gfx");o.width=document.body.clientWidth,o.height=document.body.clientHeight,new it(o).start(),window.onresize=function(){o.width=document.body.clientWidth,o.height=document.body.clientHeight}}),a("div",{className:Ke.part,children:a("canvas",{id:"gfx"})})),nt="_part_pfhqm_1",st="_card_pfhqm_1",at="_footer_pfhqm_4";var ct={part:nt,card:st,footer:at};const dt=()=>a("div",{className:ct.part,children:"part6"}),ut="_part_pfhqm_1",ht="_card_pfhqm_1",ft="_footer_pfhqm_4";var pt={part:ut,card:ht,footer:ft};const lt=()=>a("div",{className:pt.part,children:"part7"}),mt="_part_pfhqm_1",vt="_card_pfhqm_1",gt="_footer_pfhqm_4";var _t={part:mt,card:vt,footer:gt};const xt=()=>a("div",{className:_t.part,children:"part8"}),wt="_part_pfhqm_1",yt="_card_pfhqm_1",Pt="_footer_pfhqm_4";var bt={part:wt,card:yt,footer:Pt};const $t=()=>a("div",{className:bt.part,children:"part9"}),Bt="_part_pfhqm_1",Et="_card_pfhqm_1",At="_footer_pfhqm_4";var qt={part:Bt,card:Et,footer:At};const Ct=()=>a("div",{className:qt.part,children:"part10"}),Vt="_part_pfhqm_1",Tt="_card_pfhqm_1",Mt="_footer_pfhqm_4";var Rt={part:Vt,card:Tt,footer:Mt};const Ut=()=>a("div",{className:Rt.part,children:"part11"}),Dt="_part_pfhqm_1",St="_card_pfhqm_1",Ot="_footer_pfhqm_4";var zt={part:Dt,card:St,footer:Ot};const Nt=()=>a("div",{className:zt.part,children:"part12"}),Ft="_part_pfhqm_1",Gt="_card_pfhqm_1",Lt="_footer_pfhqm_4";var jt={part:Ft,card:Gt,footer:Lt};const It=()=>a("div",{className:jt.part,children:"part13"}),Ht="_part_pfhqm_1",Wt="_card_pfhqm_1",kt="_footer_pfhqm_4";var Xt={part:Ht,card:Wt,footer:kt};const Yt=()=>a("div",{className:Xt.part,children:"part14"}),Kt="_part_pfhqm_1",Qt="_card_pfhqm_1",Zt="_footer_pfhqm_4";var Jt={part:Kt,card:Qt,footer:Zt};const er=()=>a("div",{className:Jt.part,children:"part15"}),tr="_part_pfhqm_1",rr="_card_pfhqm_1",ir="_footer_pfhqm_4";var or={part:tr,card:rr,footer:ir};const nr=()=>a("div",{className:or.part,children:"part16"}),sr="_part_pfhqm_1",ar="_card_pfhqm_1",cr="_footer_pfhqm_4";var dr={part:sr,card:ar,footer:cr};const ur=()=>a("div",{className:dr.part,children:"part17"}),hr="_part_pfhqm_1",fr="_card_pfhqm_1",pr="_footer_pfhqm_4";var lr={part:hr,card:fr,footer:pr};const mr=()=>a("div",{className:lr.part,children:"part18"}),vr="_part_pfhqm_1",gr="_card_pfhqm_1",_r="_footer_pfhqm_4";var xr={part:vr,card:gr,footer:_r};const wr=()=>a("div",{className:xr.part,children:"part19"}),yr="_part_pfhqm_1",Pr="_card_pfhqm_1",br="_footer_pfhqm_4";var $r={part:yr,card:Pr,footer:br};const Br=()=>a("div",{className:$r.part,children:"part20"}),Er=[{path:"/",element:re},{path:"/part1",element:me},{path:"/part2",element:Ee},{path:"/part3",element:Ue},{path:"/part4",element:We},{path:"/part5",element:ot},{path:"/part6",element:dt},{path:"/part7",element:lt},{path:"/part8",element:xt},{path:"/part9",element:$t},{path:"/part10",element:Ct},{path:"/part11",element:Ut},{path:"/part12",element:Nt},{path:"/part13",element:It},{path:"/part14",element:Yt},{path:"/part15",element:er},{path:"/part16",element:nr},{path:"/part17",element:ur},{path:"/part18",element:mr},{path:"/part19",element:wr},{path:"/part20",element:Br},{path:"about",element:ie},{path:"404",element:oe}],Ar=()=>{let o=[];Er.forEach((t,i)=>{const n=t.element,s={path:t.path,element:a(n,{})};o.push(s)});const e=k([...o]);return a(te,{children:e})};X.render(a(A.StrictMode,{children:a(K,{history:G,children:a(Ar,{})})}),document.getElementById("root"));
