var T=1e-6,S=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});function j(){var r=new S(16);return S!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function V(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function B(r,n,e){var a=n[0],v=n[1],i=n[2],s=n[3],c=n[4],h=n[5],l=n[6],f=n[7],y=n[8],M=n[9],p=n[10],g=n[11],w=n[12],F=n[13],Y=n[14],N=n[15],z=e[0],x=e[1],A=e[2],m=e[3];return r[0]=z*a+x*c+A*y+m*w,r[1]=z*v+x*h+A*M+m*F,r[2]=z*i+x*l+A*p+m*Y,r[3]=z*s+x*f+A*g+m*N,z=e[4],x=e[5],A=e[6],m=e[7],r[4]=z*a+x*c+A*y+m*w,r[5]=z*v+x*h+A*M+m*F,r[6]=z*i+x*l+A*p+m*Y,r[7]=z*s+x*f+A*g+m*N,z=e[8],x=e[9],A=e[10],m=e[11],r[8]=z*a+x*c+A*y+m*w,r[9]=z*v+x*h+A*M+m*F,r[10]=z*i+x*l+A*p+m*Y,r[11]=z*s+x*f+A*g+m*N,z=e[12],x=e[13],A=e[14],m=e[15],r[12]=z*a+x*c+A*y+m*w,r[13]=z*v+x*h+A*M+m*F,r[14]=z*i+x*l+A*p+m*Y,r[15]=z*s+x*f+A*g+m*N,r}function C(r,n,e){var a=e[0],v=e[1],i=e[2],s,c,h,l,f,y,M,p,g,w,F,Y;return n===r?(r[12]=n[0]*a+n[4]*v+n[8]*i+n[12],r[13]=n[1]*a+n[5]*v+n[9]*i+n[13],r[14]=n[2]*a+n[6]*v+n[10]*i+n[14],r[15]=n[3]*a+n[7]*v+n[11]*i+n[15]):(s=n[0],c=n[1],h=n[2],l=n[3],f=n[4],y=n[5],M=n[6],p=n[7],g=n[8],w=n[9],F=n[10],Y=n[11],r[0]=s,r[1]=c,r[2]=h,r[3]=l,r[4]=f,r[5]=y,r[6]=M,r[7]=p,r[8]=g,r[9]=w,r[10]=F,r[11]=Y,r[12]=s*a+f*v+g*i+n[12],r[13]=c*a+y*v+w*i+n[13],r[14]=h*a+M*v+F*i+n[14],r[15]=l*a+p*v+Y*i+n[15]),r}function D(r,n,e,a){var v=a[0],i=a[1],s=a[2],c=Math.hypot(v,i,s),h,l,f,y,M,p,g,w,F,Y,N,z,x,A,m,O,q,E,I,P,R,$,k,L;return c<T?null:(c=1/c,v*=c,i*=c,s*=c,h=Math.sin(e),l=Math.cos(e),f=1-l,y=n[0],M=n[1],p=n[2],g=n[3],w=n[4],F=n[5],Y=n[6],N=n[7],z=n[8],x=n[9],A=n[10],m=n[11],O=v*v*f+l,q=i*v*f+s*h,E=s*v*f-i*h,I=v*i*f-s*h,P=i*i*f+l,R=s*i*f+v*h,$=v*s*f+i*h,k=i*s*f-v*h,L=s*s*f+l,r[0]=y*O+w*q+z*E,r[1]=M*O+F*q+x*E,r[2]=p*O+Y*q+A*E,r[3]=g*O+N*q+m*E,r[4]=y*I+w*P+z*R,r[5]=M*I+F*P+x*R,r[6]=p*I+Y*P+A*R,r[7]=g*I+N*P+m*R,r[8]=y*$+w*k+z*L,r[9]=M*$+F*k+x*L,r[10]=p*$+Y*k+A*L,r[11]=g*$+N*k+m*L,n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r)}function G(r,n,e){var a=Math.sin(e),v=Math.cos(e),i=n[4],s=n[5],c=n[6],h=n[7],l=n[8],f=n[9],y=n[10],M=n[11];return n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[4]=i*v+l*a,r[5]=s*v+f*a,r[6]=c*v+y*a,r[7]=h*v+M*a,r[8]=l*v-i*a,r[9]=f*v-s*a,r[10]=y*v-c*a,r[11]=M*v-h*a,r}function H(r,n,e){var a=Math.sin(e),v=Math.cos(e),i=n[0],s=n[1],c=n[2],h=n[3],l=n[8],f=n[9],y=n[10],M=n[11];return n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=i*v-l*a,r[1]=s*v-f*a,r[2]=c*v-y*a,r[3]=h*v-M*a,r[8]=i*a+l*v,r[9]=s*a+f*v,r[10]=c*a+y*v,r[11]=h*a+M*v,r}function J(r,n,e){var a=Math.sin(e),v=Math.cos(e),i=n[0],s=n[1],c=n[2],h=n[3],l=n[4],f=n[5],y=n[6],M=n[7];return n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=i*v+l*a,r[1]=s*v+f*a,r[2]=c*v+y*a,r[3]=h*v+M*a,r[4]=l*v-i*a,r[5]=f*v-s*a,r[6]=y*v-c*a,r[7]=M*v-h*a,r}function X(r,n,e,a,v){var i=1/Math.tan(n/2),s;return r[0]=i/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,v!=null&&v!==1/0?(s=1/(a-v),r[10]=(v+a)*s,r[14]=2*v*a*s):(r[10]=-1,r[14]=-2*a),r}var K=X;function Z(r,n,e,a,v,i,s){var c=1/(n-e),h=1/(a-v),l=1/(i-s);return r[0]=-2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*l,r[11]=0,r[12]=(n+e)*c,r[13]=(v+a)*h,r[14]=(s+i)*l,r[15]=1,r}var Q=Z;function U(r,n,e,a){var v,i,s,c,h,l,f,y,M,p,g=n[0],w=n[1],F=n[2],Y=a[0],N=a[1],z=a[2],x=e[0],A=e[1],m=e[2];return Math.abs(g-x)<T&&Math.abs(w-A)<T&&Math.abs(F-m)<T?V(r):(f=g-x,y=w-A,M=F-m,p=1/Math.hypot(f,y,M),f*=p,y*=p,M*=p,v=N*M-z*y,i=z*f-Y*M,s=Y*y-N*f,p=Math.hypot(v,i,s),p?(p=1/p,v*=p,i*=p,s*=p):(v=0,i=0,s=0),c=y*s-M*i,h=M*v-f*s,l=f*i-y*v,p=Math.hypot(c,h,l),p?(p=1/p,c*=p,h*=p,l*=p):(c=0,h=0,l=0),r[0]=v,r[1]=c,r[2]=f,r[3]=0,r[4]=i,r[5]=h,r[6]=y,r[7]=0,r[8]=s,r[9]=l,r[10]=M,r[11]=0,r[12]=-(v*g+i*w+s*F),r[13]=-(c*g+h*w+l*F),r[14]=-(f*g+y*w+M*F),r[15]=1,r)}function _(){var r=new S(3);return S!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function W(r,n,e){var a=new S(3);return a[0]=r,a[1]=n,a[2]=e,a}function d(r,n,e){return r[0]=n[0]+e[0],r[1]=n[1]+e[1],r[2]=n[2]+e[2],r}function b(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r}function t(r,n){var e=n[0],a=n[1],v=n[2],i=e*e+a*a+v*v;return i>0&&(i=1/Math.sqrt(i)),r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r}function u(r,n,e){var a=n[0],v=n[1],i=n[2],s=e[0],c=e[1],h=e[2];return r[0]=v*h-i*c,r[1]=i*s-a*h,r[2]=a*c-v*s,r}function o(r,n,e,a){var v=[],i=[];return v[0]=n[0]-e[0],v[1]=n[1]-e[1],v[2]=n[2]-e[2],i[0]=v[2]*Math.sin(a)+v[0]*Math.cos(a),i[1]=v[1],i[2]=v[2]*Math.cos(a)-v[0]*Math.sin(a),r[0]=i[0]+e[0],r[1]=i[1]+e[1],r[2]=i[2]+e[2],r}(function(){var r=_();return function(n,e,a,v,i,s){var c,h;for(e||(e=3),a||(a=0),v?h=Math.min(v*e+a,n.length):h=n.length,c=a;c<h;c+=e)r[0]=n[c],r[1]=n[c+1],r[2]=n[c+2],i(r,r,s),n[c]=r[0],n[c+1]=r[1],n[c+2]=r[2];return n}})();export{_ as a,u as b,j as c,d,o as e,W as f,G as g,H as h,J as i,U as l,B as m,t as n,Q as o,K as p,D as r,b as s,C as t};
