var S=1e-6,T=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,v=arguments.length;v--;)r+=arguments[v]*arguments[v];return Math.sqrt(r)});function d(){var r=new T(16);return T!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function j(r,v){return r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3],r[4]=v[4],r[5]=v[5],r[6]=v[6],r[7]=v[7],r[8]=v[8],r[9]=v[9],r[10]=v[10],r[11]=v[11],r[12]=v[12],r[13]=v[13],r[14]=v[14],r[15]=v[15],r}function X(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function B(r,v,s){var e=v[0],n=v[1],a=v[2],i=v[3],f=v[4],c=v[5],y=v[6],h=v[7],l=v[8],M=v[9],p=v[10],g=v[11],F=v[12],N=v[13],O=v[14],Y=v[15],z=s[0],A=s[1],x=s[2],m=s[3];return r[0]=z*e+A*f+x*l+m*F,r[1]=z*n+A*c+x*M+m*N,r[2]=z*a+A*y+x*p+m*O,r[3]=z*i+A*h+x*g+m*Y,z=s[4],A=s[5],x=s[6],m=s[7],r[4]=z*e+A*f+x*l+m*F,r[5]=z*n+A*c+x*M+m*N,r[6]=z*a+A*y+x*p+m*O,r[7]=z*i+A*h+x*g+m*Y,z=s[8],A=s[9],x=s[10],m=s[11],r[8]=z*e+A*f+x*l+m*F,r[9]=z*n+A*c+x*M+m*N,r[10]=z*a+A*y+x*p+m*O,r[11]=z*i+A*h+x*g+m*Y,z=s[12],A=s[13],x=s[14],m=s[15],r[12]=z*e+A*f+x*l+m*F,r[13]=z*n+A*c+x*M+m*N,r[14]=z*a+A*y+x*p+m*O,r[15]=z*i+A*h+x*g+m*Y,r}function C(r,v,s){var e=s[0],n=s[1],a=s[2],i,f,c,y,h,l,M,p,g,F,N,O;return v===r?(r[12]=v[0]*e+v[4]*n+v[8]*a+v[12],r[13]=v[1]*e+v[5]*n+v[9]*a+v[13],r[14]=v[2]*e+v[6]*n+v[10]*a+v[14],r[15]=v[3]*e+v[7]*n+v[11]*a+v[15]):(i=v[0],f=v[1],c=v[2],y=v[3],h=v[4],l=v[5],M=v[6],p=v[7],g=v[8],F=v[9],N=v[10],O=v[11],r[0]=i,r[1]=f,r[2]=c,r[3]=y,r[4]=h,r[5]=l,r[6]=M,r[7]=p,r[8]=g,r[9]=F,r[10]=N,r[11]=O,r[12]=i*e+h*n+g*a+v[12],r[13]=f*e+l*n+F*a+v[13],r[14]=c*e+M*n+N*a+v[14],r[15]=y*e+p*n+O*a+v[15]),r}function D(r,v,s,e){var n=e[0],a=e[1],i=e[2],f=Math.hypot(n,a,i),c,y,h,l,M,p,g,F,N,O,Y,z,A,x,m,b,w,E,I,P,R,k,q,L;return f<S?null:(f=1/f,n*=f,a*=f,i*=f,c=Math.sin(s),y=Math.cos(s),h=1-y,l=v[0],M=v[1],p=v[2],g=v[3],F=v[4],N=v[5],O=v[6],Y=v[7],z=v[8],A=v[9],x=v[10],m=v[11],b=n*n*h+y,w=a*n*h+i*c,E=i*n*h-a*c,I=n*a*h-i*c,P=a*a*h+y,R=i*a*h+n*c,k=n*i*h+a*c,q=a*i*h-n*c,L=i*i*h+y,r[0]=l*b+F*w+z*E,r[1]=M*b+N*w+A*E,r[2]=p*b+O*w+x*E,r[3]=g*b+Y*w+m*E,r[4]=l*I+F*P+z*R,r[5]=M*I+N*P+A*R,r[6]=p*I+O*P+x*R,r[7]=g*I+Y*P+m*R,r[8]=l*k+F*q+z*L,r[9]=M*k+N*q+A*L,r[10]=p*k+O*q+x*L,r[11]=g*k+Y*q+m*L,v!==r&&(r[12]=v[12],r[13]=v[13],r[14]=v[14],r[15]=v[15]),r)}function G(r,v,s){var e=Math.sin(s),n=Math.cos(s),a=v[4],i=v[5],f=v[6],c=v[7],y=v[8],h=v[9],l=v[10],M=v[11];return v!==r&&(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3],r[12]=v[12],r[13]=v[13],r[14]=v[14],r[15]=v[15]),r[4]=a*n+y*e,r[5]=i*n+h*e,r[6]=f*n+l*e,r[7]=c*n+M*e,r[8]=y*n-a*e,r[9]=h*n-i*e,r[10]=l*n-f*e,r[11]=M*n-c*e,r}function H(r,v,s){var e=Math.sin(s),n=Math.cos(s),a=v[0],i=v[1],f=v[2],c=v[3],y=v[8],h=v[9],l=v[10],M=v[11];return v!==r&&(r[4]=v[4],r[5]=v[5],r[6]=v[6],r[7]=v[7],r[12]=v[12],r[13]=v[13],r[14]=v[14],r[15]=v[15]),r[0]=a*n-y*e,r[1]=i*n-h*e,r[2]=f*n-l*e,r[3]=c*n-M*e,r[8]=a*e+y*n,r[9]=i*e+h*n,r[10]=f*e+l*n,r[11]=c*e+M*n,r}function J(r,v,s){var e=Math.sin(s),n=Math.cos(s),a=v[0],i=v[1],f=v[2],c=v[3],y=v[4],h=v[5],l=v[6],M=v[7];return v!==r&&(r[8]=v[8],r[9]=v[9],r[10]=v[10],r[11]=v[11],r[12]=v[12],r[13]=v[13],r[14]=v[14],r[15]=v[15]),r[0]=a*n+y*e,r[1]=i*n+h*e,r[2]=f*n+l*e,r[3]=c*n+M*e,r[4]=y*n-a*e,r[5]=h*n-i*e,r[6]=l*n-f*e,r[7]=M*n-c*e,r}function Z(r,v,s,e,n){var a=1/Math.tan(v/2),i;return r[0]=a/s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,n!=null&&n!==1/0?(i=1/(e-n),r[10]=(n+e)*i,r[14]=2*n*e*i):(r[10]=-1,r[14]=-2*e),r}var K=Z;function _(r,v,s,e,n,a,i){var f=1/(v-s),c=1/(e-n),y=1/(a-i);return r[0]=-2*f,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*y,r[11]=0,r[12]=(v+s)*f,r[13]=(n+e)*c,r[14]=(i+a)*y,r[15]=1,r}var Q=_;function U(r,v,s,e){var n,a,i,f,c,y,h,l,M,p,g=v[0],F=v[1],N=v[2],O=e[0],Y=e[1],z=e[2],A=s[0],x=s[1],m=s[2];return Math.abs(g-A)<S&&Math.abs(F-x)<S&&Math.abs(N-m)<S?X(r):(h=g-A,l=F-x,M=N-m,p=1/Math.hypot(h,l,M),h*=p,l*=p,M*=p,n=Y*M-z*l,a=z*h-O*M,i=O*l-Y*h,p=Math.hypot(n,a,i),p?(p=1/p,n*=p,a*=p,i*=p):(n=0,a=0,i=0),f=l*i-M*a,c=M*n-h*i,y=h*a-l*n,p=Math.hypot(f,c,y),p?(p=1/p,f*=p,c*=p,y*=p):(f=0,c=0,y=0),r[0]=n,r[1]=f,r[2]=h,r[3]=0,r[4]=a,r[5]=c,r[6]=l,r[7]=0,r[8]=i,r[9]=y,r[10]=M,r[11]=0,r[12]=-(n*g+a*F+i*N),r[13]=-(f*g+c*F+y*N),r[14]=-(h*g+l*F+M*N),r[15]=1,r)}export{T as A,G as a,H as b,d as c,J as d,j as e,X as i,U as l,B as m,Q as o,K as p,D as r,C as t};
